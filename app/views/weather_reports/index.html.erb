<%- model_class = WeatherReport -%>
<div class="page-header">
  <h1><%=t '.title', :default => model_class.model_name.human.pluralize.titleize %></h1>
</div>

<%= render 'locations/search_form' %>
<br>
<%= will_paginate %>
<br>
<table class="table table-striped">
  <thead>
    <tr>
      <th>Location</th>
      <th>Received</th>
      <th><%= model_class.human_attribute_name(:weather) %></th>
      <th><%= model_class.human_attribute_name(:temp) %></th>
      <th><%= model_class.human_attribute_name(:temp_min) %></th>
      <th><%= model_class.human_attribute_name(:temp_max) %></th>
      <th><%= model_class.human_attribute_name(:pressure) %></th>
      <th><%= model_class.human_attribute_name(:humidity) %></th>
      <th><%= model_class.human_attribute_name(:wind_speed) %></th>
      <th><%= model_class.human_attribute_name(:wind_gust) %></th>
      <th>Direction</th>
      <th><%= model_class.human_attribute_name(:clouds) %></th>
      <th>Rain (3h)</th>
      <th>Snow (3h)</th>
      <th><%=t '.actions', :default => t("helpers.actions") %></th>
    </tr>
  </thead>

  <tbody>
    <% @weather_reports.each do |weather_report| %>
      <tr>
        <td><%= city(weather_report) %></td>
        <td><%= time_received(weather_report) %></td>
        <td><%= describe_weather(weather_report) %></td>
        <td><%= temp(weather_report) %></td>
        <td><%= temp_min(weather_report) %></td>
        <td><%= temp_max(weather_report) %></td>
        <td><%= pressure(weather_report) %></td>
        <td><%= humidity(weather_report) %></td>
        <td><%= wind_speed(weather_report) %></td>
        <td><%= wind_gust(weather_report) %></td>
        <td><%= wind_degree(weather_report) %></td>
        <td><%= clouds(weather_report) %></td>
        <td><%= rain_3h(weather_report) %></td>
        <td><%= snow_3h(weather_report) %></td>
        <td>
          <%= link_to 'Show', weather_report, :class => 'btn btn-mini' %>
        <% if (current_user.present? && current_user.admin?) %>
              <%= link_to t('.destroy', :default => t("helpers.links.destroy")),
                          weather_report,
                          :method => :delete,
                          :data => { :confirm => t('.confirm', :default => t("helpers.links.confirm", :default => 'Are you sure?')) },
                          :class => 'btn btn-mini btn-danger' %>
              </td>
        <% end %>
      </tr>
    <% end %>
  </tbody>
</table>

<br>
<%= will_paginate %>
<br>
<br>
<%= link_to 'Search for a new location', root_path, :class => 'btn btn-primary' %>
